
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../3dac/">
      
      
      
      <link rel="icon" href="../../assets/laptop-code.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>Programmation Dynamique - Terminale NSI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../assets/_markdown_exec_ansi.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#programmation-dynamique" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../.." title="Terminale NSI" class="md-header__button md-logo" aria-label="Terminale NSI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Terminale NSI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Programmation Dynamique
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Terminale NSI" class="md-nav__button md-logo" aria-label="Terminale NSI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    Terminale NSI
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accueil
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../correction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    La correction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Défis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Défis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../D%C3%A9fis/1schelling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modèle de ségrégation de Schelling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Révisions 1ère
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Révisions 1ère
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../R%C3%A9visions%201%C3%A8re/0triche/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feuille de triche
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../R%C3%A9visions%201%C3%A8re/1algorithmique/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithmique
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../R%C3%A9visions%201%C3%A8re/2mat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tableaux à deux dimensions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    T2 Structures de données
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            T2 Structures de données
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T2%20Structures%20de%20donn%C3%A9es/1poo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programmation Orientée Objet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T2%20Structures%20de%20donn%C3%A9es/3piles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les piles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T2%20Structures%20de%20donn%C3%A9es/4listes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les listes chaînées
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T2%20Structures%20de%20donn%C3%A9es/5files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T2%20Structures%20de%20donn%C3%A9es/6graphes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les graphes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T2%20Structures%20de%20donn%C3%A9es/7arbres/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les arbres binaires
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    T3 Architecture
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            T3 Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T3%20Architecture/1revision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Révisions sur les réseaux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T3%20Architecture/2routage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Le routage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T3%20Architecture/3processus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Processus
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    T4 Base de données
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            T4 Base de données
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T4%20Base%20de%20donn%C3%A9es/1sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Le langage SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T4%20Base%20de%20donn%C3%A9es/2rela/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Le modèle relationnel
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    T5 Langages et programmation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            T5 Langages et programmation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T5%20Langages%20et%20programmation/1arret/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calculabilité et décidabilité
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T5%20Langages%20et%20programmation/2rec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Récursivité
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../T5%20Langages%20et%20programmation/3api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modularité et API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    T6 Algorithmique
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            T6 Algorithmique
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3dac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diviser pour régner
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Programmation Dynamique
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Programmation Dynamique
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exemple-rendu-de-monnaie" class="md-nav__link">
    <span class="md-ellipsis">
      Exemple - Rendu de monnaie
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exemple-rendu-de-monnaie" class="md-nav__link">
    <span class="md-ellipsis">
      Exemple - Rendu de monnaie
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div><h1 id="programmation-dynamique">Programmation Dynamique</h1>
<div class="admonition info">
<p class="admonition-title">Liens utiles</p>
<ul>
<li>Diaporama à venir (quelques problèmes de conversion) !</li>
<li><a href="../ressources/dp.pdf">Cours / Activité</a></li>
</ul>
</div>
<h2 id="exemple-rendu-de-monnaie">Exemple - Rendu de monnaie</h2>
<ol>
<li>
<p>Définir les <strong>données</strong> du problème :</p>
<blockquote>
<ul>
<li>Somme <span class="arithmatex">\(S\)</span> à rendre.</li>
<li>Les différentes valeurs des pièces <span class="arithmatex">\(P = \left\{ p_1,~ p_2,~ \ldots~ ,~ p_n \right\}\)</span>.</li>
</ul>
</blockquote>
</li>
<li>
<p>Identifier l'<strong>objectif</strong> du problème.</p>
<blockquote>
<p>On souhaite minimiser le nombre de pièces rendus.</p>
</blockquote>
</li>
<li>
<p>Identifier une séquence de choix à effectuer.</p>
<blockquote>
<p>À chaque étape, on choisit une pièce d'une valeur particulière à rendre.</p>
</blockquote>
</li>
<li>
<p>Définir les variables qui caractérisent totalement l'<strong>état</strong> d'une étape de décision.</p>
<blockquote>
<p>Lorsque qu'on choisit une pièce de valeur <span class="arithmatex">\(v\)</span> et la rend, la somme à rendre est retranchée de <span class="arithmatex">\(v\)</span>. Donc l'état d'une étape est caractérisé par une seule variable, à savoir la somme restante <span class="arithmatex">\(s\)</span> à rendre.</p>
</blockquote>
</li>
<li>
<p>Définir précisément l'ensemble des <strong>choix</strong> possibles à partir d'un état particulier.</p>
<blockquote>
<p>Soit une somme restante <span class="arithmatex">\(s\)</span> à rendre, l'ensemble des choix possibles est <span class="arithmatex">\(\big\{ p \in P ~\big|~p \leq s \big\}\)</span>.
Choisir une pièce de valeur <span class="arithmatex">\(p\)</span> de cet ensemble mène vers l'état <span class="arithmatex">\(s - p\)</span>.</p>
</blockquote>
</li>
<li>
<p>Définition récursive du <strong>coût optimal</strong> :</p>
<blockquote>
<p>On définit <span class="arithmatex">\(c^\star(s)\)</span> comme le nombre minimum de pièces à rendre pour rembourser la somme restante <span class="arithmatex">\(s\)</span>.</p>
<div class="arithmatex">\[c^\star(s) = \begin{cases} 0 &amp; \text{si } s = 0 \\ 1 + \min \Big\{ c^\star(s - p) ~\Big|~ p \in P,\ p \leq s \Big\} &amp; \text{sinon} \end{cases}\]</div>
<p>Résoudre le problème initial revient à calculer <span class="arithmatex">\(c^\star(S)\)</span>.</p>
</blockquote>
</li>
<li>
<p><strong>Implémentation</strong> en Python :</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:5"><input checked id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><input id="__tabbed_1_3" name="__tabbed_1" type="radio"><input id="__tabbed_1_4" name="__tabbed_1" type="radio"><input id="__tabbed_1_5" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Naïf</label><label for="__tabbed_1_2">Cache <code class="highlight"><span class="nb">dict</span></code></label><label for="__tabbed_1_3">Cache <code class="highlight"><span class="nb">list</span></code></label><label for="__tabbed_1_4">Approche bottom-up</label><label for="__tabbed_1_5">Cache <code class="highlight"><span class="nb">dict</span></code> + Solution</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">c</span><span class="p">(</span><span class="n">somme</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Coût optimal :'</span><span class="p">,</span> <span class="n">rendu</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># état ↔ coût optimal</span>
    <span class="c1"># cache[état] = coût optimal de l'état</span>

    <span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>  <span class="c1"># si on a pas déjà calculé le coût opt. de cet état, on le calcule</span>
            <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> 

    <span class="k">return</span> <span class="n">c</span><span class="p">(</span><span class="n">somme</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Coût optimal :'</span><span class="p">,</span> <span class="n">rendu</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">somme</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># cache[état] = cout opt. de l'état</span>
    <span class="n">cache</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># on inclut le cas de base ici</span>

    <span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># si on a pas déjà calculé le coût opt. de cet état, on le calcule</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> 

    <span class="k">return</span> <span class="n">c</span><span class="p">(</span><span class="n">somme</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Coût optimal :'</span><span class="p">,</span> <span class="n">rendu</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">somme</span> 
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">somme</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">cache</span><span class="p">[</span><span class="n">s</span> <span class="o">-</span> <span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">somme</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'Coût optimal :'</span><span class="p">,</span> <span class="n">rendu</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>  <span class="c1"># état &lt;-&gt; (coût optimal, meilleur choix)</span>

    <span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="n">c</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># on retourne le coût optimal</span>

    <span class="c1"># 1. Remplir le cache</span>
    <span class="n">c</span><span class="p">(</span><span class="n">somme</span><span class="p">)</span> 

    <span class="c1"># 2. Retrouver la solution</span>
    <span class="n">solution</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">somme</span>
    <span class="k">while</span> <span class="n">s</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">solution</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">piece</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">-=</span> <span class="n">piece</span>

    <span class="c1"># 3. Renvoyer la solution optimale et le coût optimal</span>
    <span class="k">return</span> <span class="n">solution</span><span class="p">,</span> <span class="n">cache</span><span class="p">[</span><span class="n">somme</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">"Solution / Coût opt. :"</span><span class="p">,</span> <span class="n">rendu</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]))</span>
</code></pre></div>
</div>
</div>
</div>
</li>
<li>
<p>Déterminer la <strong>complexité :</strong></p>
<blockquote>
<p>Il y a dans le pire des cas <span class="arithmatex">\(S + 1\)</span> états. Pour chaque état, on a <span class="arithmatex">\(|P| = n\)</span> choix, donc :</p>
<ul>
<li>Complexité en temps : <span class="arithmatex">\(O(S \cdot n)\)</span></li>
<li>Complexité en espace : <span class="arithmatex">\(O(S)\)</span> </li>
</ul>
</blockquote>
</li>
</ol>
<!-- ## Exemple introductif

Soit le problème du rendu de monnaie.

!!! question
    1. Soit $S = 27$€ et les valeurs de pièces $V = \left\{ 1, 5, 10 \right\}$ ? Quelle est la solution optimale ? Quelle est son coût ?

    2. De même pour $S = 6$€ et les valeurs de pièces $V = \left\{ 1, 3, 4 \right\}$.

    3. Compléter le graphe orienté suivant :

    4. Plus généralement, 

    5. Supposons que l'on ait le nombre minimal de pièces à rendre pour les sommes à rendre 5€, 3€ et 2€.  -->

<!-- ## Introduction

La **programmation dynamique** est une stratégie algorithmique de résolution à l'optimalité d'un problème d'optimisation. Cette stratégie repose sur deux grands principes :

* **:fontawesome-solid-sitemap: Décomposition** : Un problème est décomposé récursivement en sous-problèmes plus petits. Le coût optimal d'un problème sera calculé à partir des coûts optimaux de ses sous-problèmes.

* **:fontawesome-solid-box-archive: Mémoïsation** : Lorsqu'un sous-problème est résolu, afin d'éviter de le rerésoudre si celui-ci se présente à nouveau ultérieurement, le coût de sa solution est conservé. -->

<!-- 
## Illustration du principe de mémoïsation

Exemple classique avec Fibonacci.

## La démarche générale

Résoudre un problème d'optimisation implique généralement de prendre une suite de décisions de même nature. Une étape de décision se caractérise plus précisément par :

* Son **état** qui correspond à l'ensemble des informations qui décrivent complètement la situation au moment de prendre la décision.

* L'ensemble des **choix** possibles à partir de cet état. Chaque choix mène vers un autre état.

On pourra alors représenter l'espace des états comme un graphe orienté où les sommets sont des états et les arcs correspondent à des choix.

Il suffit ensuite d'exprimer le coût optimal que l'on peut obtenir depuis un état particulier de manière récursive, c'est-à-dire en fonction des coûts optimaux de ses états enfants. C'est ainsi que l'on définit la **fonction d'état**. Cette démarche ressemble à l'étape « Combiner » dans la stratégie « Diviser pour régner » : on suppose avoir résolu les sous-problèmes d'un problème parent et on cherche maintenant à résoudre ce problème parent. -->

<!-- > Une fois la fonction d'état définie, il est possible de l'implémenter directement en Python sous la forme d'une fonction récursive. Or, on risque de calculer cette fonction plusieurs fois pour le même état. On conserve alors le coût optimal pour chaque état dans un cache, c'est le principe de mémoïsation. -->

<!-- ## Un premier exemple introductif

Afin de mettre en lumière les différentes étapes à suivre pour appliquer cette stratégie à un problème quelconque, étudions le problème du rendu de monnaie.

!!! note "Problème du rendu de monnaie"
    Vous devez rendre une somme $S$ d'argent à un vendeur. Pour cela, vous disposez d'une quantité illimitée de pièces de différentes valeurs $V = \left\{ v_1,~ v_2,~ \ldots~ ,~ v_n \right\}$. Votre objectif est de rembourser cette somme en utilisant le moins de pièces possible.


1. Définir les **données** fixes du problème. Ce sont les paramètres qui définissent entièrement une instance du problème.

    > * Somme $S \in \mathbb{N}$ à rendre.
    > * Les différentes valeurs des pièces $V = \left\{ v_1,~ v_2,~ \ldots~ ,~ v_n \right\}$.
    >
    > Par exemple, on peut définir l'instance $S = 6$ et $V = \{1, 3, 4 \}$.

2. Identifier l'**objectif** du problème.

    > On souhaite minimiser le nombre de pièces rendus.
    >
    > Par exemple, pour l'instance $S = 6$ et $V = \{1, 3, 4 \}$, le nombre minimum de pièces à rendre est 2.

3. Identifier la série de décisions à effectuer.

    > Ici, à chaque étape, on choisit une pièce d'une valeur particulière à rendre.

4. Définir les variables qui caractérisent totalement l'**état** d'une étape de décision. Finalement, que modifie un choix lors de la prochaine étape de décision ?

    > Lorsque qu'on choisit une pièce de valeur $p$ et la rend, la somme à rendre est retranchée de $p$. Donc l'état d'une étape est caractérisé par une seule variable, à savoir la somme restante $s$ à rendre.

5. Définir précisément l'ensemble des **choix** possibles à partir d'un état particulier.

    > Soit une somme restante $s$ à rendre, l'ensemble des choix possibles est $\big\{ v \in V ~\big|~v \leq s \big\}$.
    > Choisir une pièce de valeur $v$ de cet ensemble mène vers l'état $s - v$.
    >
    > Par exemple, pour l'instance $S = 6$ et $V = \{1, 3, 4 \}$ :
    >
    > * Les choix possibles et les états accessibles depuis l'état 6 :
    >     ![](ressources/rendu_etat.svg){ .center }
    >     Les sommets bleus correspondent à des états et les arcs rouges à des choix.
    > * L'espace des états complet :
    > ![](ressources/rendu_etats.svg){ .center }

6. Définir la **fonction d'état** de manière récursive sans oublier de définir les cas de base. 

    > On définit $z(s)$ comme le nombre minimum de pièces à rendre pour rembourser la somme restante $s$.
    >
    > $$z(s) = \begin{cases} 0 & \text{si } s = 0 \\ 1 + \min \Big\{ z(s - v) ~\Big|~ v \in \big\{ v \in V ~\big|~v \leq s \big\} \Big\} & \text{sinon} \end{cases}$$
    > 
    > Résoudre le problème initial revient à calculer $z(S)$.

    > Par exemple, pour l'instance $S = 6$ et $V = \{1, 3, 4 \}$. Supposons qu'on ait les coûts optimaux (en vert sur le schéma) pour les états enfants de l'état 6, à savoir les états 5, 3 et 2. Il faut rendre 2 pièces pour rendre 5 et 3 et 1 pièce pour rendre 3.
    > <center>
    ![](ressources/fe_step1.svg) ![](ressources/fe_step2.svg) ![](ressources/fe_step3.svg)
    </center>
    > Quel est le nombre minimum de pièces pour rendre 6 ? Le minimum de $\{ 2, 1, 2 \}$ plus une pièce ! 

7. Implémenter finalement la fonction d'état en Python avec mémoïsation.

    > 
    <div class="highlight"><span class="filename">Sans mémoïsation</span><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme_initiale</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">nb_pieces_min</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">nb_pieces_min</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">nb_pieces_min</span><span class="p">(</span><span class="n">somme_initiale</span><span class="p">)</span>
</code></pre></div>
    >
    <div class="highlight"><span class="filename">Avec mémoïsation (dictionnaire)</span><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme_initiale</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>  <span class="c1"># les cas de base sont directement inclus dans le cache</span>
    <span class="k">def</span> <span class="nf">nb_pieces_min</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">nb_pieces_min</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">nb_pieces_min</span><span class="p">(</span><span class="n">somme_initiale</span><span class="p">)</span>
</code></pre></div>
    >
    <div class="highlight"><span class="filename">Avec mémoïsation (tableau)</span><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme_initiale</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">somme_initiale</span>  
    <span class="k">def</span> <span class="nf">nb_pieces_min</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">nb_pieces_min</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">v</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">nb_pieces_min</span><span class="p">(</span><span class="n">somme_initiale</span><span class="p">)</span>
</code></pre></div>
    > L'approche *bottom-up* consiste à commencer par les cas de base et de remonter progressivement vers le problème initial. Dans le graphe qui représente l'espace des états, cela signifie commencer par les feuilles (les états les plus simples) et remonter jusqu'à la racine (le problème initial). Cette approche revient à observer comment le cache se remplit progressivement, ce qui nous amène à transformer la récursion en une version itérative, souvent plus performante. L'approche récursive est une approche dite *top-down*, puisqu'on part de la racine pour descendre vers les feuilles.
    >
    <div class="highlight"><span class="filename">Version itérative - Approche bottom-up</span><pre><span></span><code><span class="k">def</span> <span class="nf">rendu</span><span class="p">(</span><span class="n">somme_initiale</span><span class="p">,</span> <span class="n">pieces</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="n">somme</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">somme</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">cache</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">cache</span><span class="p">[</span><span class="n">s</span> <span class="o">-</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pieces</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">somme</span><span class="p">]</span>
</code></pre></div>

8. Discuter de la complexité de l'algorithme. Elle est souvent équivalente à la taille de l'espace des états, car dans le pire des cas, le cache doit être totalement rempli.

    > L'ensemble des états possibles est au pire de taille $S + 1$, donc l'algorithme est de complexité $O(S)$.


## Un second exemple

Problème du sac-à-dos.



* Données :

    > * Un ensemble de $n$ objets. Chaque objet $i$ est caractérisé par un poids $p_i$ et une valeur $v_i$.
    > * La capacité maximale du sac $C$.
    >
    > Par exemple, on peut définir l'instance suivante :
    >
    > $$
    \begin{array}{c*{7}{p{2cm}}}
        \hline
        i & 0 & 1 & 2 & 3 & 4 & 5 & 6 \\
        \hline
        p_i & 6 & 5 & 8 & 9 & 6 & 7 & 3 \\
        \hline
        v_i & 2 & 3 & 6 & 7 & 5 & 9 & 4 \\
        \hline
    \end{array}
    $$
    >
    > Avec $C = 9$.



* Objectif :

    > L'objectif est de déterminer une affectation des objets au sac qui maximise la valeur totale du sac.

* Série de décisions :

    > À chaque étape, on choisit un objet à affecter au sac.

* État :

    > À chaque étape de décision, il est essentiel de connaître quels objets sont encore à considérer et quelle est la capacité restante du sac. On définit un état $(i, c)$ où les objets $> i$ ont été considérés — on considère donc actuellement l'objet $i$ — et le sac dispose d'une capacité restante de $c$.

* Choix :

    > À partir de l'état $(i, c)$, on peut soit affecter l'objet $i$ au sac s'il rentre dans le sac (c'est-à-dire si $p_i \leq c$), soit ne pas l'affecter. Si $i < 0$ alors on a considéré l'ensemble des objets.
    >
    > En considérant l'exemple :
    >
    > * Les choix possibles et les états accessibles depuis l'état initial $(6, 9)$ :
    > ![](ressources/kp_choice.svg){ width=70% .center }
    >
    > * L'espace des états complet :
    > ![](ressources/kp_etats.svg){ .center }

* Fonction d'état :

    > Soit $z(i, c)$ le profit maximal réalisable en considérant les objets 0 à $i$ :
    >
    >
    $$
    z(i, c) = \begin{cases}
    0 & \text{si } i < 0 \\
    z(i - 1, c) & \text{si } p_i > c \\
    \max \big\{ z(i - 1, c),~ v_i + z(i - 1, c - p_i) \big\} & \text{sinon}
    \end{cases}
    $$
    >
    > Résoudre le problème initial revient à calculer $z(n - 1, C)$.
    >
    > ![](ressources/kp_combiner.svg){ width="50%" .center }
    > 

## Découpe de bonbon

!!! note "Problème de découpe"
    Dans la cour de récréation, le marché des rubans de *Hubba Bubba*, un chewing-gum en forme de ruban, connaît une forte demande. Chaque longueur de ruban a un prix spécifique, et un élève se pose la question sur la manière optimale de découper son ruban de longueur $L \in \mathbb N$ afin de maximiser son bénéfice. Les morceaux découpés doivent être de longueur entière. -->

<!-- > Par exemple, pour les prix des longueurs suivantes :
>
> $$
\begin{array}{c*{7}{p{2cm}}}
    \hline
    \text{Longueur} & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\ \hline
    \text{Prix} & 1 & 5 & 8 & 9 & 10 & 17 & 17 & 20 & 24 & 30 \\ \hline
\end{array}
$$
>
> Si la longueur initiale du ruban de l'élève est $L = 4$ :
> 
> * Pas de découpe : 9€
> *Longueurs 1 et 3 : 1€ + 8€ = 9€
> * 2 et 2 : 5€ + 5€ = 10€
>
> Donc la meilleur solution est découper 2 pièces de 2 pour un profit de 10€. -->

<!-- * Données :

    > * Une longueur de ruban $L$
    > * Le prix $p_l$ des différentes longueurs $l \in [\![1, L]\!]$.

* Objectif :

    > Maximiser le profit réalisé.

* Série de décisions :

    > À chaque étape, on choisit une longueur à découper du ruban.

* État :

    > L'état est défini par la longueur restante du ruban $l$.

* Choix :

    > À partir de l'état $l$, les longueurs possibles à découper du ruban sont $[\![1, l]\!]$. 

* Fonction d'état :

    >
    $$
    \texttt{profit_max}(l) = \begin{cases}
        0 & \text{si } n = 0 \\
        \max \Big\{ p_l + \texttt{profit_max}(l - d) ~\Big|~ d \in [\![1, l]\!]    \Big\} & \text{sinon} \\
    \end{cases}
    $$
    >
    > Résoudre le problème initial revient à calculer $\texttt{profit_max}(L)$. -->

<!-- > Un problème d'optimisation vise à minimiser ou maximiser une certaine quantité que l'on appelle **objectif**. La valeur de l'objectif réalisée par une **solution** particulière à un problème d'optimisation — une solution est ici définie comme une suite des décisions prises — est appelée **coût**. Une solution est qualifiée d'**optimale** si aucune autre solution ne présente un coût inférieur (resp. supérieur) dans le cas d'une minimisation (resp. maximisation). -->

<!-- 


La définition récursive du problème se manifeste à travers la **fonction d'état**. Cette fonction récursive exprime le coût optimal d'un état donné en fonction des coûts optimaux des états qui le suivent dans la séquence de décision. -->

<!-- 

## Exemple introductif




 -->

<!-- Soit un problème d'optimisation. La programmation dynamique s'applique de manière générale en suivant les étapes :

1. Définir les **données** fixes.
2. Définir l'**objectif** du problème, c'est-à-dire la quantité que l'on souhaite maximiser ou minimiser.
3. Identifier une succession de **choix** à effectuer.
4. Définir les variables qui définissent totalement l'état lors d'une étape de décision.
5. Écrire la **fonction d'état**. -->

<!-- 

## Fibonacci

La suite de Fibonnaci :

\begin{equation}
f(n) = \begin{cases}
f(n-1) + f(n-2) & \text{si } n \geq 1 \\
n & \text{sinon}
\end{cases}
\end{equation}

=== "Récursif"
    La définition naïve et récursive.
    <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># cas de base</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
    La complexité en temps de cet algorithme est exponentielle, plus précisement $\Theta(\varphi^n)$ où $\varphi \approx 1.6180$ est le nombre d'or. L'arbre des appels de la fonction :

    ![type:video](./ressources/fibonacci-light.mp4){: style='width: 100%'}

    On remarque des calculs redondants, par exemple $f(3)$ est calculé 2 fois lors de l'appel $f(5)$.


=== "Récursif & Cache"
    On cache les différents termes de la suite de Fibonacci pour éviter des calculs redondants, c'est le principe de **mémoïsation**.
    <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fibonacci_dp</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">fibonacci_cache</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># si le n-ième terme n&#39;a pas été calculé</span>
            <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">fibonacci_cache</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci_cache</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>

    <span class="n">cache</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># les deux premiers termes inclus</span>
    <span class="k">return</span> <span class="n">fibonacci_cache</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</code></pre></div>
=== "Itératif & Cache"
    Une approche *ascendante* (bottom-up) permet de remplir le cache de manière itérative.
    <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fibonacci_dp_ascendant</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">cache</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">cache</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
</code></pre></div>
=== "Itératif"
    Finalement, il est suffisant de retenir les deux derniers termes.
    <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fibonacci_dp_ascendant_optimise</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
    <span class="k">return</span> <span class="n">b</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">n</span>
</code></pre></div>
=== "Comparaison"
    Des mesures réelles permettent bien de démontrer que l'ajout d'un cache permet d'obtenir un algorithme de complexité linéaire.

    <figure markdown>
    ![](ressources/fibonacci-dark.svg#only-dark)
    ![](ressources/fibonacci-light.svg#only-light)
    </figure>

=== "Formule exacte"
    Il existe une formule exacte de la suite de Fibonacci, la formule de Binet :

    $$
    f(n) = \frac{\varphi^n - \varphi^{\prime n}  }{\sqrt{5}} \quad \text{avec} \quad \varphi = \frac{1 + \sqrt{5}}{2} \quad \text{et} \quad \varphi^\prime = \frac{1 - \sqrt{5}}{2} = - \frac{1}{\varphi}
    $$

    Où $\varphi$ est le fameux nombre d'or. Il serait alors tentant de calculer le $n$-ième terme de la suite de Fibonacci en temps constant :

    <div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">fibonacci_binet</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">p1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">p2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">résultat</span> <span class="o">=</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">résultat</span><span class="p">)</span>
</code></pre></div>

    Or, travailler avec des nombres en virgule flottante implique inévitablement des imprécisions de calcul. Par conséquent, à partir de $n = 72$, les termes calculés se révèlent incorrects :
    <center>

    | $n$ |     $f(n)$      |                                                 `fibonacci_binet(n)`                                                 |
    | :-: | :-------------: | :------------------------------------------------------------------------------------------------------------------: |
    | 70  | 190392490709135 |                                                   190392490709135                                                    |
    | 71  | 308061521170129 |                                                   308061521170129                                                    |
    | 72  | 498454011879264 | <span style="background-color: rgba(213, 42, 42, 0.5); padding: 0px 5px; border-radius: 5px;">498454011879265** |
    | 73  | 806515533049393 | <span style="background-color: rgba(213, 42, 42, 0.5); padding: 0px 5px; border-radius: 5px;">806515533049395** |</center>



## Rendu de monnaie

* Données du problème : Une somme initiale à rendre $V$ et un système de pièces $P = (p_1,~ p_2,~ \ldots,~ p_n)$.

* L'état d'un problème : Une somme restante à rendre $v$.

* Choix à partir d'un état : Choisir une pièce $p \in P$.

* Pour une somme $v$ à rendre, on définit $f(v)$ comme le nombre de pièces minimal à rendre. Définition récursive de la fonction d'état $f$ :

    $$
    f(v) = 1 + \min \bigg\{  f(v - p) ~\bigg|~ p \in P \bigg\}
    $$

    * Cas de bases de la fonction d'état :
        * $f(0) = 0$
        * $f(v) = \infty \text{ si } v < 0$

    * Solution au problème initial : $f(V)$

## Sac-à-dos

* Données du problème : Un ensemble d'objets $I$ où objet $i \in I$ est caractérisé par un poids $p_i$ et une valeur $v_i$. Et un sac avec une capacité $C$.

* L'état d'un problème : Une capacité restante $c$. Et un indice $i$ qui indique que l'objet considéré

* Choix à partir d'un état : Ajouter l'objet au sac ou l'ignorer.

* Fonction d'état $f$ :

    $$
    f(c, i) = \max \bigg\{  v_i + f(c - p_i, i - 1), f(c, i - 1) \bigg\}
    $$
 --></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="../../assets/_markdown_exec_pyodide.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>